# -*- coding: utf-8 -*-
import json

import scrapy

from final_spider.items import LotteryItem


class LotterySpider(scrapy.Spider):
    name = 'lottery'
    allowed_domains = ['http://www.sporttery.cn/lottery/index.html?tid=0#czcal']
    start_urls = [
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17001',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17002',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17003',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17004',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17005',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17006',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17007',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17008',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17009',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17010',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17011',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17012',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17013',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17014',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17015',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17016',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17017',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17018',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17019',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17020',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17021',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17022',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17023',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17024',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17025',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17026',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17027',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17028',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17029',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17030',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17030',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17031',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17032',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17033',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17034',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17035',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17036',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17037',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17038',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17039',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17040',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17041',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17042',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17043',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17044',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17045',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17046',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17047',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17048',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17049',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17050',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17051',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17052',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17053',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17054',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17055',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17056',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17057',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17058',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17059',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17060',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17061',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17062',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17063',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17064',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17065',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17066',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17067',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17068',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17069',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17070',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17071',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17072',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17073',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17074',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17075',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17076',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17077',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17078',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17079',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17080',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17081',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17082',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17083',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17084',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17085',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17086',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17087',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17088',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17089',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17090',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17091',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17092',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17093',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17094',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17095',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17096',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17097',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17098',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17099',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17100',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17101',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17102',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17103',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17104',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17105',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17106',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17107',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17108',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17109',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17110',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17111',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17112',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17113',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17114',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17115',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17116',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17117',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17118',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17119',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17120',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17121',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17122',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17123',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17124',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17125',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17126',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17127',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17128',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17129',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17130',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17141',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17142',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17143',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17144',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17145',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17146',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17147',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17148',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17149',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17150',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17151',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17152',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17153',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17154',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17155',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17156',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17157',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17158',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17159',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17160',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17161',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17162',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17163',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17164',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17165',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17166',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17167',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17168',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17169',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17170',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17171',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17172',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17173',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17174',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17175',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17176',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17177',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17178',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17179',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17180',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17181',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17182',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17183',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17184',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17185',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17186',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17187',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17188',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17189',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17190',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17191',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17192',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17193',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17194',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=17195',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18001',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18002',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18003',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18004',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18005',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18006',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18007',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18008',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18009',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18010',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18011',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18012',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18013',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18014',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18015',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18016',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18017',
        # 'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18018',
        # 上面已经全部抓取,下面还未抓取
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18019',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18020',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18021',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18022',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18023',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18024',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18025',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18026',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18027',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18028',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18029',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18030',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18031',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18032',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18033',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18034',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18035',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18036',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18037',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18038',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18039',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18040',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18041',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18042',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18043',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18044',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18045',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18046',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18047',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18048',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18049',
        'http://i.sporttery.cn/wap/fb_lottery/fb_lottery_match?num=18050',
    ]

    def parse(self, response):
        # 存在查询结果
        if len(response.body) > 0:
            jsonInfo = json.loads(response.body)['result']
            url = response.url
            for i in jsonInfo:
                status_id = 1
                if not jsonInfo[i]['result']:
                    status_id = 1

                if jsonInfo[i]['result'] == '0' or jsonInfo[i]['result'] == 0:
                    status_id = 5

                if jsonInfo[i]['result'] == '1' or jsonInfo[i]['result'] == 1:
                    status_id = 3

                if jsonInfo[i]['result'] == '3' or jsonInfo[i]['result'] == 3:
                    status_id = 4

                lottery = LotteryItem()
                lottery['issue'] = url.split('=')[1]
                lottery['mid'] = i
                lottery['league'] = jsonInfo[i]['league']
                lottery['home'] = jsonInfo[i]['h_cn']
                lottery['customer'] = jsonInfo[i]['a_cn']
                lottery['date'] = jsonInfo[i]['date']
                lottery['result'] = status_id
                lottery['time'] = jsonInfo[i]['time']
                lottery['full'] = jsonInfo[i]['full']
                lottery['type_id'] = 3
                yield lottery
